{"ast":null,"code":"import _asyncToGenerator from \"/Users/denisdalipi/Downloads/angular-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nlet TeamComponent = class TeamComponent {\n  constructor(teamService, userService, projectService) {\n    this.teamService = teamService;\n    this.userService = userService;\n    this.projectService = projectService;\n    this.teams = new MatTableDataSource();\n    this.users = [];\n    this.projects = [];\n    this.editedTeam = null;\n    this.displayedColumns = ['id', 'name', 'description', 'action'];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.getTeams();\n      yield _this.getUsers();\n      _this.getProjects();\n    })();\n  }\n  getTeams() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.teams.data = yield _this2.teamService.getTeams();\n    })();\n  }\n  getUsers() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.users = yield _this3.userService.getUsers();\n    })();\n  }\n  getProjects() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.projects = yield _this4.projectService.getProjects();\n    })();\n  }\n  editTeam(team) {\n    this.editedTeam = {\n      ...team\n    };\n  }\n  addTeam(name, description, members, projectList) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      name = name.trim();\n      description = description.trim();\n      if (!name || !description) {\n        return;\n      }\n      if (_this5.editedTeam) {\n        yield _this5.teamService.updateTeam({\n          ..._this5.editedTeam,\n          name,\n          description,\n          members,\n          projectList\n        });\n        _this5.editedTeam = null;\n      } else {\n        yield _this5.teamService.addTeam(name, description, members, projectList);\n      }\n      yield _this5.getTeams();\n    })();\n  }\n  deleteTeam(team) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      yield _this6.teamService.deleteTeam(team);\n      yield _this6.getTeams();\n    })();\n  }\n  saveChanges() {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      if (_this7.editedTeam) {\n        yield _this7.teamService.updateTeam(_this7.editedTeam);\n        _this7.editedTeam = null;\n      }\n      yield _this7.getTeams();\n    })();\n  }\n  cancelEditing() {\n    this.editedTeam = null;\n  }\n};\nTeamComponent = __decorate([Component({\n  selector: 'app-team',\n  templateUrl: './team.component.html',\n  styleUrls: ['./team.component.css']\n})], TeamComponent);\nexport { TeamComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,kBAAkB,QAAQ,yBAAyB;AAarD,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAOxBC,YAAoBC,WAAwB,EAAUC,WAAwB,EAAUC,cAA8B;IAAlG,gBAAW,GAAXF,WAAW;IAAuB,gBAAW,GAAXC,WAAW;IAAuB,mBAAc,GAAdC,cAAc;IANtG,UAAK,GAA6B,IAAIL,kBAAkB,EAAQ;IAChE,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAc,EAAE;IACxB,eAAU,GAAgB,IAAI;IAC9B,qBAAgB,GAAa,CAAC,IAAI,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,CAAC;EAEqD;EAEnHM,QAAQ;IAAA;IAAA;MACZ,MAAM,KAAI,CAACC,QAAQ,EAAE;MACrB,MAAM,KAAI,CAACC,QAAQ,EAAE;MACrB,KAAI,CAACC,WAAW,EAAE;IAAC;EACrB;EAEMF,QAAQ;IAAA;IAAA;MACZ,MAAI,CAACG,KAAK,CAACC,IAAI,SAAS,MAAI,CAACR,WAAW,CAACI,QAAQ,EAAE;IAAC;EACtD;EAEMC,QAAQ;IAAA;IAAA;MACZ,MAAI,CAACI,KAAK,SAAS,MAAI,CAACR,WAAW,CAACI,QAAQ,EAAE;IAAC;EACjD;EAEMC,WAAW;IAAA;IAAA;MACf,MAAI,CAACI,QAAQ,SAAS,MAAI,CAACR,cAAc,CAACI,WAAW,EAAE;IAAC;EAC1D;EAEAK,QAAQ,CAACC,IAAU;IACjB,IAAI,CAACC,UAAU,GAAG;MAAE,GAAGD;IAAI,CAAE;EAC/B;EAEME,OAAO,CAACC,IAAY,EAAEC,WAAmB,EAAEC,OAAe,EAAEC,WAAsB;IAAA;IAAA;MACtFH,IAAI,GAAGA,IAAI,CAACI,IAAI,EAAE;MAClBH,WAAW,GAAGA,WAAW,CAACG,IAAI,EAAE;MAChC,IAAI,CAACJ,IAAI,IAAI,CAACC,WAAW,EAAE;QACzB;;MAEF,IAAI,MAAI,CAACH,UAAU,EAAE;QACnB,MAAM,MAAI,CAACb,WAAW,CAACoB,UAAU,CAAC;UAAE,GAAG,MAAI,CAACP,UAAU;UAAEE,IAAI;UAAEC,WAAW;UAAEC,OAAO;UAAEC;QAAW,CAAE,CAAC;QAClG,MAAI,CAACL,UAAU,GAAG,IAAI;OACvB,MAAM;QACL,MAAM,MAAI,CAACb,WAAW,CAACc,OAAO,CAACC,IAAI,EAAEC,WAAW,EAAEC,OAAO,EAAEC,WAAW,CAAC;;MAEzE,MAAM,MAAI,CAACd,QAAQ,EAAE;IAAC;EACxB;EAEMiB,UAAU,CAACT,IAAU;IAAA;IAAA;MACzB,MAAM,MAAI,CAACZ,WAAW,CAACqB,UAAU,CAACT,IAAI,CAAC;MACvC,MAAM,MAAI,CAACR,QAAQ,EAAE;IAAC;EACxB;EAEMkB,WAAW;IAAA;IAAA;MACf,IAAI,MAAI,CAACT,UAAU,EAAE;QACnB,MAAM,MAAI,CAACb,WAAW,CAACoB,UAAU,CAAC,MAAI,CAACP,UAAU,CAAC;QAClD,MAAI,CAACA,UAAU,GAAG,IAAI;;MAExB,MAAM,MAAI,CAACT,QAAQ,EAAE;IAAC;EACxB;EAEAmB,aAAa;IACX,IAAI,CAACV,UAAU,GAAG,IAAI;EACxB;CACD;AA9DYf,aAAa,eALzBF,SAAS,CAAC;EACT4B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACW5B,aAAa,CA8DzB;SA9DYA,aAAa","names":["Component","MatTableDataSource","TeamComponent","constructor","teamService","userService","projectService","ngOnInit","getTeams","getUsers","getProjects","teams","data","users","projects","editTeam","team","editedTeam","addTeam","name","description","members","projectList","trim","updateTeam","deleteTeam","saveChanges","cancelEditing","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/denisdalipi/Downloads/angular-project/src/app/team/team.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Team } from '../model/team';\nimport { User } from '../model/user';\nimport { Project } from '../model/project';\nimport { TeamService } from '../team.service';\nimport { UserService } from '../user.service';\nimport { ProjectService } from '../project.service';\n\n@Component({\n  selector: 'app-team',\n  templateUrl: './team.component.html',\n  styleUrls: ['./team.component.css']\n})\nexport class TeamComponent implements OnInit {\n  teams: MatTableDataSource<Team> = new MatTableDataSource<Team>();\n  users: User[] = [];\n  projects: Project[] = [];\n  editedTeam: Team | null = null;\n  displayedColumns: string[] = ['id', 'name', 'description', 'action'];\n\n  constructor(private teamService: TeamService, private userService: UserService, private projectService: ProjectService) {}\n\n  async ngOnInit() {\n    await this.getTeams();\n    await this.getUsers();\n    this.getProjects();\n  }\n\n  async getTeams(): Promise<void> {\n    this.teams.data = await this.teamService.getTeams();\n  }\n\n  async getUsers(): Promise<void> {\n    this.users = await this.userService.getUsers();\n  }\n\n  async getProjects(): Promise<void> {\n    this.projects = await this.projectService.getProjects();\n  }\n\n  editTeam(team: Team): void {\n    this.editedTeam = { ...team };\n  }\n\n  async addTeam(name: string, description: string, members: User[], projectList: Project[]): Promise<void> {\n    name = name.trim();\n    description = description.trim();\n    if (!name || !description) {\n      return;\n    }\n    if (this.editedTeam) {\n      await this.teamService.updateTeam({ ...this.editedTeam, name, description, members, projectList });\n      this.editedTeam = null;\n    } else {\n      await this.teamService.addTeam(name, description, members, projectList);\n    }\n    await this.getTeams();\n  }\n\n  async deleteTeam(team: Team): Promise<void> {\n    await this.teamService.deleteTeam(team);\n    await this.getTeams();\n  }\n\n  async saveChanges(): Promise<void> {\n    if (this.editedTeam) {\n      await this.teamService.updateTeam(this.editedTeam);\n      this.editedTeam = null;\n    }\n    await this.getTeams();\n  }\n\n  cancelEditing(): void {\n    this.editedTeam = null;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}